
@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix owl:     <http://www.w3.org/2002/07/owl#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix xsd:     <http://www.w3.org/2001/XMLSchema#> .
@prefix vann:    <http://purl.org/vocab/vann/> .
@prefix foaf:    <http://xmlns.com/foaf/0.1/> .
@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .
@prefix qb:      <http://purl.org/linked-data/cube#> .
@prefix daq:     <http://purl.org/eis/vocab/daq#> .
@prefix voaf:    <http://purl.org/vocommons/voaf#> .
@prefix oa:      <http://www.w3.org/ns/oa#> .
@prefix duv:     <http://www.w3.org/ns/duv#> .
@prefix skos:    <http://www.w3.org/2004/02/skos/core#> .
@prefix dqv:      <http://www.w3.org/ns/dqv#> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix void: <http://rdfs.org/ns/void#> .
@prefix sdmx-attribute:  <http://purl.org/linked-data/sdmx/2009/attribute#> .
@prefix ex:  <http://example.org/> .




### Dataset and Linkset
ex:myDataset1 
    a dcat:Dataset ;
    dcterms:title "My dataset 1" 
    .

ex:myDataset2 
    a dcat:Dataset ;
    dcterms:title "My dataset 2"  
    .

ex:myLinkset 
    a dcat:Dataset, void:Linkset ;
    dcterms:title "A Linkset between My dataset 1 and My dataset 2"; 
    void:linkPredicate skos:exactMatch ;
    void:target ex:myDataset1 ;
    void:target ex:myDataset2  
    .

# Definition of instances for Metric, Dimension and Category. 

ex:importingForPropertyPercentage 
    a dqv:Metric ;
    skos:definition "Ratio between novel preferred or alternative labels gained via skos:exactMatch links and preferred or alternative labels already in the dataset."@en ;
    dqv:expectedDataType xsd:double ;
    dqv:inDimension  ex:completeness .

ex:completenessGain
    a  dqv:Dimension ;
    skos:prefLabel "Completeness Gain"@en ;
    skos:definition "Degree to which a linkset contributes to obtaining all required information in a particular dataset."@en ;
    dqv:inCategory ex:complementationGain 
    .

ex:complementationGain
    a  dqv:Category ;
    skos:definition "Category that groups dimensions measuring the data quality gain  obatined by exploiting linksets."@en
    .

ex:onLanguage
    a qb:DimensionProperty, owl:DataProperty ;
    rdfs:comment   "language on which label importing is assessed."@en ;
    rdfs:domain    dqv:QualityMeasurement;
    rdfs:label     "label import assessment language"@en 
    .

ex:onProperty
    a qb:DimensionProperty, rdf:Property ;
    rdfs:comment 	"property on which label importing is assessed."@en ;
    rdfs:domain 	dqv:QualityMeasurement ;
    rdfs:label  	"label import assessment property"@en ;
    rdfs:range     	rdf:Property 
    .
        

#####Quality Assessment
ex:qualityMeasurementDataset  a  dqv:QualityMeasurementDataset ;
        qb:structure  ex:dsd .

ex:importingForPropertyPercentage
    dqv:hasObservation ex:measurement_exactMatchAltLabelItDataset1,
    ex:measurement_exactMatchAltLabelItDataset2, 
    ex:measurement_exactMatchAltLabelEnDataset1, 
    ex:measurement_exactMatchAltLabelEnDataset2,
    ex:measurement_exactMatchPrefLabelItDataset1, 
    ex:measurement_exactMatchprefLabelItDataset2 .


#Adding quality observations 
## for Italian alternative labels
ex:measurement_exactMatchAltLabelItDataset1 
       a 		dqv:QualityMeasurement;
       dqv:computedOn  	ex:myLinkset ;
       dqv:value       	"1.0"^^xsd:double ;
       dqv:isMeasurementOf      	ex:importingForPropertyPercentage ;
       qb:dataSet      	ex:qualityMeasurementDataset;
       ex:onLanguage    	"it" ;
       ex:onProperty    	skos:altLabel .

ex:measurement_exactMatchAltLabelItDataset2 
       a 		dqv:QualityMeasurement;
       dqv:computedOn  	ex:myLinkset ;
       dqv:value       	"1.0"^^xsd:double ;
       dqv:isMeasurementOf      	ex:importingForPropertyPercentage ;
       qb:dataSet      	ex:qualityMeasurementDataset;
       ex:onLanguage    	"it" ;
       ex:onProperty    	skos:altLabel .

## for English alternative labels
ex:measurement_exactMatchAltLabelEnDataset1 
       a 		dqv:QualityMeasurement;
       dqv:computedOn  	ex:myLinkset ;
       dqv:value       	"0.1"^^xsd:double ;
       dqv:isMeasurementOf      	ex:importingForPropertyPercentage ;
       qb:dataSet      	ex:qualityMeasurementDataset;
       ex:onLanguage    	"en" ;
       ex:onProperty    	skos:altLabel .

ex:measurement_exactMatchAltLabelEnDataset2  
       a 		dqv:QualityMeasurement;
       dqv:computedOn  	ex:myLinkset ;
       dqv:value       	"1.0"^^xsd:double ;
       dqv:isMeasurementOf      	ex:importingForPropertyPercentage ;
       qb:dataSet      	ex:qualityMeasurementDataset;
       ex:onLanguage    	"en" ;
       ex:onProperty    	skos:altLabel .      

## for Italian preferred labels
ex:measurement_exactMatchPrefLabelItDataset1 
       a 		dqv:QualityMeasurement;
       dqv:computedOn  	ex:myLinkset ;
       dqv:value       	"0.5"^^xsd:double ;
       dqv:isMeasurementOf      	ex:importingForPropertyPercentage ;
       qb:dataSet      	ex:qualityMeasurementDataset;
       ex:onLanguage    	"it" ;
       ex:onProperty    	skos:prefLabel .

ex:measurement_exactMatchprefLabelItDataset2  
       a 		dqv:QualityMeasurement;
       dqv:computedOn  	ex:myLinkset ;
       dqv:value       	"0.5"^^xsd:double ;
       dqv:isMeasurementOf      	ex:importingForPropertyPercentage ;
       qb:dataSet      	ex:qualityMeasurementDataset;
       ex:onLanguage    	"it" ;
       ex:onProperty    	skos:prefLabel .


ex:dsd  a     qb:DataStructureDefinition ;
##Copying the structure of daq:dsq
    qb:component  [ qb:dimension  dqv:computedOn ;
                    qb:order      2
                  ] ;
    qb:component  [ qb:measure  dqv:value] ;
    qb:component  [ qb:dimension  
        <http://purl.org/linked-data/sdmx/2009/dimension#timePeriod> ;
                    qb:order      3
                  ] ;
    qb:component  [ qb:dimension  dqv:isMeasurementOf ;
                    qb:order      1
                  ] ;

    qb:component [ qb:measure dqv:value;];
    # Attribute (here: unit of measurement)
    qb:component [
        qb:attribute sdmx-attribute:unitMeasure
    ;
    qb:componentRequired false ;
    qb:componentAttachment qb:DataSet ; ] ;


    ##Extending  the structure of lds:dsq with two new dimensions
    qb:component  [ qb:dimension  ex:onProperty ;
                    qb:order      4
                  ] ;
    qb:component  [ qb:dimension  ex:onLanguage ;
                    qb:order      5
                  ] .
